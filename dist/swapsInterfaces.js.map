{"version":3,"file":"swapsInterfaces.js","sourceRoot":"","sources":["../src/swapsInterfaces.ts"],"names":[],"mappings":";;;AAGA,IAAY,OAOX;AAPD,WAAY,OAAO;IACjB,4BAAiB,CAAA;IACjB,4BAAiB,CAAA;IACjB,oCAAyB,CAAA;IACzB,wCAA6B,CAAA;IAC7B,sDAA2C,CAAA;IAC3C,oCAAyB,CAAA;AAC3B,CAAC,EAPW,OAAO,GAAP,eAAO,KAAP,eAAO,QAOlB","sourcesContent":["import { Transaction } from '@metamask/controllers';\nimport BigNumber from 'bignumber.js';\n\nexport enum APIType {\n  TRADES = 'TRADES',\n  TOKENS = 'TOKENS',\n  TOP_ASSETS = 'TOP_ASSETS',\n  FEATURE_FLAG = 'FEATURE_FLAG',\n  AGGREGATOR_METADATA = 'AGGREGATOR_METADATA',\n  GAS_PRICES = 'GAS_PRICES',\n}\n\nexport interface SwapsAsset {\n  address: string;\n  symbol: string;\n  name?: string;\n}\n\nexport interface SwapsToken extends SwapsAsset {\n  decimals: number;\n  occurances?: number;\n  iconUrl?: string;\n}\n\n/**\n * Metadata needed to fetch quotes\n *\n * @interface APIFetchQuotesMetadata\n *\n * @property sourceTokenInfo - Source token information\n * @property destinationTokenInfo - Destination token information\n *\n */\nexport interface APIFetchQuotesMetadata {\n  sourceTokenInfo: SwapsToken;\n  destinationTokenInfo: SwapsToken;\n}\n\n/**\n * Parameters needed to fetch quotes\n *\n * @interface APIFetchQuotesParams\n *\n * @property slippage - Slippage\n * @property sourceToken - Source token address\n * @property sourceAmount - Source token amount\n * @property destinationToken - Destination token address\n * @property walletAddress - Address to do the swap from\n * @property exchangeList\n * @property metaData - Metadata needed to fetch quotes\n *\n */\nexport interface APIFetchQuotesParams {\n  slippage: number;\n  sourceToken: string;\n  sourceAmount: number;\n  destinationToken: string;\n  walletAddress: string;\n  exchangeList?: string[];\n  timeout?: number;\n  clientId?: string;\n}\n\n/**\n * Aggregator metadata coming from API\n *\n * @interface APIAggregatorMetadata\n *\n */\nexport interface APIAggregatorMetadata {\n  color: string;\n  title: string;\n  icon: string;\n  iconPng: string;\n}\n\ninterface QuoteTransaction extends Transaction {\n  value: string;\n}\n\n/**\n * Savings of a quote\n *\n * @interface QuoteSavings\n */\nexport interface QuoteSavings {\n  total: BigNumber;\n  performance: BigNumber;\n  fee: BigNumber;\n  medianMetaMaskFee: BigNumber;\n}\n\n/**\n * Trade data structure coming from API, together with savings and gas estimations.\n *\n * @interface Quote\n *\n * @property trade - The ethereum transaction data for the swap\n * @property approvalNeeded - Ethereum transaction to complete a ERC20 approval, if needed\n * @property sourceAmount - Amount in minimal unit to send\n * @property destinationAmount - Amount in minimal unit to receive\n * @property error - Trade error, if any\n * @property sourceToken - Source token address\n * @property destinationToken - Destination token address\n * @property maxGas - Maximum gas to use\n * @property averageGas - Average gas to use\n * @property estimatedRefund - Destination token address\n * @property fetchTime - Fetch time\n * @property fee - MetaMask fee\n * @property quoteRefreshSeconds - Refresh quotes time\n * @property gasMultiplier\n * @property aggregator - Aggregator id\n * @property aggType - Aggregator type\n * @property priceSlippage - Price slippage information object\n * @property savings - Estimation of savings\n * @property gasEstimate - Estimation of gas\n * @property gasEstimateWithRefund - Estimation of gas with refund\n */\nexport interface Quote {\n  trade: QuoteTransaction;\n  approvalNeeded: null | {\n    data: string;\n    to: string;\n    from: string;\n    gas: string;\n  };\n  sourceAmount: string;\n  destinationAmount: number;\n  error: null | Error;\n  sourceToken: string;\n  destinationToken: string;\n  maxGas: number;\n  averageGas: number;\n  estimatedRefund: number;\n  fetchTime: number;\n  aggregator: string;\n  aggType: string;\n  fee: number;\n  quoteRefreshSeconds: number;\n  gasMultiplier: number;\n  savings: QuoteSavings | null;\n  gasEstimate: string | null;\n  gasEstimateWithRefund: string | null;\n  destinationTokenRate: number | null;\n  sourceTokenRate: number | null;\n}\n\n/**\n * Fees and values information for an aggregator\n *\n * @interface QuoteValues\n *\n * @property aggregator - Aggregator id\n * @property ethFee - Fee in ETH\n * @property maxEthFee - Maximum fee in ETH\n * @property ethValueOfTokens - Total value of tokens in ETH\n * @property overallValueOfQuote\n * @property metaMaskFeeInEth - MetaMask fee in ETH\n */\nexport interface QuoteValues {\n  aggregator: string;\n  ethFee: string;\n  maxEthFee: string;\n  ethValueOfTokens: string;\n  overallValueOfQuote: string;\n  metaMaskFeeInEth: string;\n}\n\n/**\n * Metadata needed to fetch quotes\n *\n * @interface TransactionReceipt\n *\n * @property blockHash - Hash of the block where this transaction was in\n * @property blockNumber - Block number where this transaction was in\n * @property transactionHash - Hash of the transaction\n * @property transactionIndex - Integer of the transactions index position in the block\n * @property from - Address of the sender\n * @property to - Address of the receiver. null when its a contract creation transaction\n * @property cumulativeGasUsed - The total amount of gas used when this transaction was executed in the block\n * @property gasUsed - The amount of gas used by this specific transaction alone\n * @property contractAddress - The contract address created, if the transaction was a contract creation, otherwise null\n * @property logs - Array of log objects, which this transaction generate\n * @property status - '0x0' indicates transaction failure , '0x1' indicates transaction succeeded.\n *\n */\nexport interface TransactionReceipt {\n  blockHash: string;\n  blockNumber: number;\n  transactionHash: string;\n  transactionIndex: number;\n  from: string;\n  to: string;\n  cumulativeGasUsed: number;\n  gasUsed: number;\n  contractAddress: string;\n  logs: { data: string; topics: string[]; address: string }[];\n  status: string;\n}\n\nexport interface ChainData {\n  aggregatorMetadata: null | { [key: string]: APIAggregatorMetadata };\n  tokens: null | SwapsToken[];\n  topAssets: null | SwapsAsset[];\n  aggregatorMetadataLastFetched: number;\n  tokensLastFetched: number;\n  topAssetsLastFetched: number;\n}\n\nexport interface ChainCache {\n  [key: string]: ChainData;\n}\n"]}